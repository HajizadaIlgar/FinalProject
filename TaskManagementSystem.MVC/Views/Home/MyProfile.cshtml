@using TaskManagementSystem.CORE.Enums
@model HomeDto
@{
    ViewData["Title"] = "MyProfile";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<link href="https://cdn.tailwindcss.com" rel="stylesheet">

<main class="p-6">

    <!-- Page Title Start -->
    <div class="flex justify-between items-center mb-6">
        <h4 class="text-slate-900 dark:text-slate-200 text-lg font-medium">Profile</h4>

        <div class="md:flex hidden items-center gap-2.5 font-semibold">
            <div class="flex items-center gap-2">
                <a href="#" class="text-sm font-medium text-slate-700 dark:text-slate-400">Attex</a>
            </div>

            <div class="flex items-center gap-2">
                <i class="ri-arrow-right-s-line text-base text-slate-400 rtl:rotate-180"></i>
                <a href="#" class="text-sm font-medium text-slate-700 dark:text-slate-400">Extra Pages</a>
            </div>

            <div class="flex items-center gap-2">
                <i class="ri-arrow-right-s-line text-base text-slate-400 rtl:rotate-180"></i>
                <a href="#" class="text-sm font-medium text-slate-700 dark:text-slate-400" aria-current="page">Profile</a>
            </div>
        </div>
    </div>
    <!-- Page Title End -->

    <div class="grid xl:grid-cols-12 lg:grid-cols-12 grid-cols-1 gap-6">
        <div class="xl:col-span-4 lg:col-span-5">
            <div class="card text-center p-6 mb-6">
                @foreach (var user in Model.AppUsers.Where(u => u.UserName == User.Identity?.Name))
                {
                    <img src="~/account/@user.ProfileImagerlUrl" alt="" class="w-24 rounded-full p-1 border border-gray-200 bg-gray-100 dark:bg-gray-700 dark:border-gray-600 mx-auto">
                    <h4 class="mb-1 mt-3 text-lg">@user.FullName</h4>
                    <p class="text-gray-400 mb-4">
                        @if (User.IsInRole("User"))
                        {
                            <span class="text-xs">User</span>
                        }
                        else
                        {
                            <span class="text-xs">Admin</span>
                        }
                    </p>
               
@*                 <button type="button" class="btn bg-success btn-sm !text-sm text-white mb-3">Follow</button>
 *@                <a asp-controller="Home" asp-action="Chat" type="button" class="btn bg-danger btn-sm !text-sm text-white mb-3">Message</a>

                <div class="text-start mt-6">
                    <h4 class="text-sm uppercase mb-2.5">About Me :</h4>
                    <p class="text-gray-400 mb-6">
                        Hi I'm Tosha Minner,has been the industry's standard dummy text ever since the
                        1500s, when an unknown printer took a galley of type.
                    </p>
                    <p class="text-zinc-400 mb-3"><strong>Full Name :</strong> <span class="ms-2">@user.FullName</span></p>

                    <p class="text-zinc-400 mb-3"><strong>Mobile :</strong><span class="ms-2">@user.PhoneNumber</span></p>

                    <p class="text-zinc-400 mb-3"><strong>Email :</strong> <span class="ms-2 ">@user.Email</span></p>

                </div>
                }
            </div> <!-- end card -->
            <!-- Messages-->
            <div class="card p-6">
                <div class="flex justify-between items-center mb-3">
                  <h4 class="text-base mb-2">Messages</h4>
                    <div class="dropdown">
                        <a href="#" class="dropdown-toggle arrow-none card-drop" data-fc-type="dropdown" data-fc-placement="bottom-end" type="button">
                            <i class="ri-more-2-fill"></i>
                        </a>
                        <div class="fc-dropdown fc-dropdown-open:opacity-100 opacity-0 min-w-40 z-50 transition-all duration-300 bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-600 rounded-md py-1 hidden">
                            <a class="flex items-center py-1.5 px-5 text-sm text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300" href="javascript:void(0)">
                                Settings
                            </a>
                            <a class="flex items-center py-1.5 px-5 text-sm text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300" href="javascript:void(0)">
                                Action
                            </a>
                        </div>
                    </div>
                </div>

                <div class="divide-y dark:divide-gray-700">
                    @foreach (var item in Model.AppUsers.Where(u => u.UserName != User.Identity?.Name))
                    {
                        <div class="overflow-hidden pt-2.5 relative">
                            <div class="block float-left me-3.5 w-10">
                                <img src="~/account/@item.ProfileImagerlUrl" class="rounded-full" alt="">
                            </div>
                            <p class="text-gray-700 block mb-0.5 dark:text-gray-400">@item.UserName</p>
                            <p class="text-gray-400">@item.Email</p>
                            <p class="absolute end-1 top-3">
                                <a asp-controller="Home" asp-action="Chat" class="btn btn-sm text-info !text-sm"> Reply </a>
                            </p>
                        </div>
                    }
                </div> <!-- end inbox-widget -->

            </div> <!-- end card-->
        </div>

        <div class="xl:col-span-8 lg:col-span-7">
            <div class="card p-6">
                <div data-fc-type="tab">
                   
                    <div class="mt-3">
                        <div id="fill-and-justify-1" role="tabpanel" aria-labelledby="fill-and-justify-item-1">
                            <h5 class="text-base uppercase mb-6">
                                <i class="ri-briefcase-line me-1"></i> Projects
                            </h5>
                            <div class="overflow-x-auto">
                                <div class="align-middle inline-block min-w-full">
                                    <div class="shadow overflow-hidden">
                                       
                                        
                                        <table class="min-w-full text-sm ">
                                            <thead class="font-medium border-y bg-light/30 dark:bg-gray-700/30 dark:border-gray-600">
                                                <tr>
                                                    <th class="p-2 text-base text-left">#</th>
                                                    <th class="p-2 text-left">Creator</th>
                                                    <th class="p-2 text-left">Project Name</th>
                                                    <th class="p-2 text-left">Start Date</th>
                                                    <th class="p-2 text-left">Due Date</th>
                                                    <th class="p-2 text-left">Status</th>
                                                </tr>
                                            </thead>
                                            <tbody class="">
                                                @foreach (var item in Model.Appointments)
                                                {
                                                    // Təyinatla əlaqəli istifadəçiləri tapırıq
                                                    var usersForAppointment = Model.AppUsers.Where(u => u.UserName != User.Identity?.Name).ToList();

                                                    // Yalnız bir dəfə göstərmək üçün təyinatı yazırıq
                                                    <tr class="">
                                                        <td class="p-2">@item.Id</td>
                                                        <td class="flex p-2 whitespace-nowrap">
                                                                <span class="ms-2 font-medium">@item.Host</span>
                                                        </td>
                                                        <td class="p-2 whitespace-nowrap">@item.DateName</td>
                                                        <td class="p-2 whitespace-nowrap">@item.StartDate</td>
                                                        <td class="p-2 whitespace-nowrap">@item.EndDate</td>
                                                        <td class="p-2 whitespace-nowrap">
                                                            <span class="py-0.5 px-3 rounded text-xs
                                                                        @(item.Status == DateStatus.Scheduled ? "bg-blue-200 text-blue-700" :
                                                                        item.Status == DateStatus.Finished ? "bg-red-200 text-red-700 " : "")">
                                                                @item.Status
                                                            </span>
                                                        </td>



                                                    </tr>
                                                }
                                            </tbody>


                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!-- Component End  -->

                            <!-- end timeline -->
                        </div><!-- End About Tab -->

                        <div id="fill-and-justify-2" class="hidden" role="tabpanel" aria-labelledby="fill-and-justify-item-2">
                            <div class="border rounded mt-3 mb-6 dark:border-gray-600">
                                <form action="#" class="comment-area-box">
                                    <textarea rows="3" class="form-input border-0 resize-none" placeholder="Write something...."></textarea>
                                    <div class="p-2 bg-light flex justify-between items-center dark:bg-gray-700">
                                        <div>
                                            <a href="#" class="btn btn-sm px-2 !text-base text-gray-900 bg-light hover:bg-dark/20 dark:text-light dark:hover:bg-light/20 dark:bg-gray-700"><i class="ri-contacts-book-2-line"></i></a>
                                            <a href="#" class="btn btn-sm px-2 !text-base text-gray-900 bg-light hover:bg-dark/20 dark:text-light dark:hover:bg-light/20 dark:bg-gray-700"><i class="ri-map-pin-line"></i></a>
                                            <a href="#" class="btn btn-sm px-2 !text-base text-gray-900 bg-light hover:bg-dark/20 dark:text-light dark:hover:bg-light/20 dark:bg-gray-700"><i class="ri-camera-3-line"></i></a>
                                            <a href="#" class="btn btn-sm px-2 !text-base text-gray-900 bg-light hover:bg-dark/20 dark:text-light dark:hover:bg-light/20 dark:bg-gray-700"><i class="ri-emoji-sticker-line"></i></a>
                                        </div>
                                        <button type="submit" class="btn btn-sm bg-dark text-white !text-base dark:bg-gray-600">Post</button>
                                    </div>
                                </form>
                            </div><!-- End Post Box -->

                            <div class="border rounded p-3 mb-3 dark:border-gray-600">
                                <div class="flex">
                                    <img class="me-3 rounded-full h-8" src="assets/images/users/avatar-4.jpg" alt="Generic placeholder image">
                                    <div>
                                        <h5 class="text-base/none">Thelma Fridley</h5>
                                        <p class="text-gray-500 mb-4"><small>about 1 hour ago</small></p>
                                    </div>
                                </div>
                                <div class="text-base text-center italic text-dark dark:text-light">
                                    <i class="ri-double-quotes-l fs-20"></i> Cras sit amet nibh libero, in
                                    gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras
                                    purus odio, vestibulum in vulputate at, tempus viverra turpis. Duis
                                    sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper
                                    porta. Mauris massa.
                                </div>

                                <div class="-mx-3 p-3 mt-6 bg-light dark:bg-gray-700">
                                    <div class="flex">
                                        <img class="me-3 rounded-full h-8" src="assets/images/users/avatar-3.jpg" alt="Generic placeholder image">
                                        <div>
                                            <h5 class="text-base mb-1">Jeremy Tomlinson <small class="text-sm text-gray-500">about 2 minuts ago</small></h5>
                                            Nice work, makes me think of The Money Pit.

                                            <br>
                                            <a href="javascript: void(0);" class="text-gray-500 text-sm inline-block mt-3"><i class="ri-reply-line"></i> Reply</a>

                                            <div class="flex mt-6">
                                                <a class="pe-3" href="#">
                                                    <img src="assets/images/users/avatar-4.jpg" class="text-sm text-gray-500 h-8 rounded-full" alt="Generic placeholder image">
                                                </a>
                                                <div>
                                                    <h5 class="text-base mb-1">Thelma Fridley <small class="text-gray-500">5 hours ago</small></h5>
                                                    i'm in the middle of a timelapse animation myself! (Very different though.) Awesome stuff.
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="flex mt-3">
                                        <a class="pe-3" href="#">
                                            <img src="assets/images/users/avatar-1.jpg" class="rounded-full h-8" alt="Generic placeholder image">
                                        </a>
                                        <div class="w-full">
                                            <input type="text" id="simpleinput" class="form-input bg-white border-0 rounded-md py-1.5 px-3 dark:bg-gray-800" placeholder="Add comment">
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-2">
                                    <a href="javascript: void(0);" class="btn btn-sm !text-sm text-danger items-center"><i class="ri-heart-line me-1"></i><span>Like (28)</span></a>
                                    <a href="javascript: void(0);" class="btn btn-sm !text-sm text-muted items-center"><i class="ri-share-line me-1"></i><span>Share</span></a>
                                </div>
                            </div><!-- End Comment Box -->

                            <div class="border rounded p-3 mb-6 dark:border-gray-600">
                                <div class="flex">
                                    <img class="me-3 rounded-full h-8" src="assets/images/users/avatar-3.jpg" alt="Generic placeholder image">
                                    <div>
                                        <h5 class="text-base">Jeremy Tomlinson</h5>
                                        <p class="text-gray-500 mb-4"><small>3 hours ago</small></p>
                                    </div>
                                </div>
                                <p class="mb-4">Story based around the idea of time lapse, animation to post soon!</p>

                                <div class="flex gap-1.5 items-center">
                                    <img src="assets/images/small/small-1.jpg" alt="post-img" class="rounded-md h-16">
                                    <img src="assets/images/small/small-2.jpg" alt="post-img" class="rounded-md h-16">
                                    <img src="assets/images/small/small-3.jpg" alt="post-img" class="rounded-md h-16">
                                </div>

                                <div class="mt-2">
                                    <a href="javascript: void(0);" class="btn btn-sm !text-sm text-gray-500 items-center"><i class="ri-reply-line me-1"></i> Reply</a>
                                    <a href="javascript: void(0);" class="btn btn-sm !text-sm text-gray-500 items-center"><i class="ri-heart-line me-1"></i> Like</a>
                                    <a href="javascript: void(0);" class="btn btn-sm !text-sm text-gray-500 items-center"><i class="ri-share-line me-1"></i> Share</a>
                                </div>
                            </div><!-- End Story Box -->

                            <div class="border rounded p-3 mb-6 dark:border-gray-600">
                                <div class="flex">
                                    <img class="me-3 rounded-full h-8" src="assets/images/users/avatar-6.jpg" alt="Generic placeholder image">
                                    <div>
                                        <h5 class="text-base">Martin Williamson</h5>
                                        <p class="text-gray-500 mb-4"><small>15 hours ago</small></p>
                                    </div>
                                </div>
                                <p class="text-sm mb-4">The parallax is a little odd but O.o that house build is awesome!!</p>

                                <iframe src="https://player.vimeo.com/video/87993762" class="h-80"></iframe>
                            </div><!-- End Video Box -->

                            <div class="text-center">
                                <a href="javascript:void(0);" class="text-danger"><i class="ri-loader-fill me-1.5"></i> Load more </a>
                            </div><!-- End Loader -->
                        </div><!-- End Timeline Tab -->

                        <div id="fill-and-justify-3" class="hidden" role="tabpanel" aria-labelledby="fill-and-justify-item-3">
                            <form>
                                <h5 class="mb-9 uppercase text-base"><i class="ri-contacts-book-2-line me-1.5"></i> Personal Info</h5>
                                <div class="grid md:grid-cols-2 grid-cols-1 gap-x-2.5">
                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="firstname" class="font-semibold text-sm text-gray-500">First Name</label>
                                            <input type="text" class="form-input" id="firstname" placeholder="Enter first name">
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="lastname" class="font-semibold text-sm text-gray-500">Last Name</label>
                                            <input type="text" class="form-input" id="lastname" placeholder="Enter last name">
                                        </div>
                                    </div>

                                    <div class="md:col-span-2">
                                        <div class="mb-6 space-y-2">
                                            <label for="userbio" class="font-semibold text-sm text-gray-500">Bio</label>
                                            <textarea class="form-input" id="userbio" rows="4" placeholder="Write something..."></textarea>
                                        </div>
                                    </div>
                                </div>

                                <div class="grid md:grid-cols-2 grid-cols-1 gap-x-2.5">
                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="useremail" class="font-semibold text-sm text-gray-500">Email Address</label>
                                            <input type="email" class="form-input" id="useremail" placeholder="Enter email">
                                            <span class="text-gray-500"><small>If you want to change email please <a href="javascript: void(0);" class="text-primary">click</a> here.</small></span>
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="userpassword" class="font-semibold text-sm text-gray-500">Password</label>
                                            <input type="password" class="form-input" id="userpassword" placeholder="Enter password">
                                            <span class="text-gray-500"><small>If you want to change password please <a href="javascript: void(0);" class="text-primary">click</a> here.</small></span>
                                        </div>
                                    </div>
                                </div>

                                <h5 class="text-base mb-6 uppercase bg-light p-2 dark:bg-gray-700"><i class="ri-building-line me-1.5"></i> Company Info</h5>
                                <div class="grid md:grid-cols-2 grid-cols-1 gap-x-2.5">
                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="companyname" class="font-semibold text-sm text-gray-500">Company Name</label>
                                            <input type="text" class="form-input" id="companyname" placeholder="Enter company name">
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="cwebsite" class="font-semibold text-sm text-gray-500">Website</label>
                                            <input type="text" class="form-input" id="cwebsite" placeholder="Enter website url">
                                        </div>
                                    </div>
                                </div>

                                <h5 class="text-base mb-6 uppercase bg-light p-2 dark:bg-gray-700"><i class="ri-global-line me-1.5"></i> Social</h5>
                                <div class="grid md:grid-cols-2 grid-cols-1 gap-x-2.5">
                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="social-fb" class="font-semibold text-sm text-gray-500">Facebook</label>
                                            <div class="flex">
                                                <span class="inline-flex items-center px-4 rounded-s border border-e-0 border-gray-200 bg-gray-50 text-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400"><i class="ri-facebook-fill"></i></span>
                                                <input type="text" class="form-input rounded-s-none" id="social-fb" placeholder="Url">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="social-tw" class="font-semibold text-sm text-gray-500">Twitter</label>
                                            <div class="flex">
                                                <span class="inline-flex items-center px-4 rounded-s border border-e-0 border-gray-200 bg-gray-50 text-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400"><i class="ri-twitter-line"></i></span>
                                                <input type="text" class="form-input rounded-s-none" id="social-tw" placeholder="Username">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="social-insta" class="font-semibold text-sm text-gray-500">Instagram</label>
                                            <div class="flex">
                                                <span class="inline-flex items-center px-4 rounded-s border border-e-0 border-gray-200 bg-gray-50 text-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400"><i class="ri-instagram-line"></i></span>
                                                <input type="text" class="form-input rounded-s-none" id="social-insta" placeholder="Url">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="social-lin" class="font-semibold text-sm text-gray-500">Linkedin</label>
                                            <div class="flex">
                                                <span class="inline-flex items-center px-4 rounded-s border border-e-0 border-gray-200 bg-gray-50 text-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400"><i class="ri-linkedin-fill"></i></span>
                                                <input type="text" class="form-input rounded-s-none" id="social-lin" placeholder="Url">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="social-sky" class="font-semibold text-sm text-gray-500">Skype</label>
                                            <div class="flex">
                                                <span class="inline-flex items-center px-4 rounded-s border border-e-0 border-gray-200 bg-gray-50 text-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400"><i class="ri-skype-line"></i></span>
                                                <input type="text" class="form-input rounded-s-none" id="social-sky">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="mb-6 space-y-2">
                                            <label for="social-gh" class="font-semibold text-sm text-gray-500">Github</label>
                                            <div class="flex">
                                                <span class="inline-flex items-center px-4 rounded-s border border-e-0 border-gray-200 bg-gray-50 text-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400"><i class="ri-github-line"></i></span>
                                                <input type="text" class="form-input rounded-s-none" id="social-gh" placeholder="Username">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="text-end">
                                    <button type="submit" class="btn bg-success text-white mt-3"><i class="ri-save-line me-1"></i> Save</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div> <!-- end card -->
        </div>
    </div>

</main>

